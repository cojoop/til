# ETL 데이터 변환 시 주의사항

서로 다른 데이터베이스(DB)에서 동일한 구조의 테이블로 데이터를 ETL(추출, 변환, 적재) 과정으로 옮길 때 주의해야 할 몇 가지 사항은 다음과 같습니다.

### 데이터 타입 및 형식 일치

- **데이터 타입 변환:** 소스 DB와 대상 DB 간 데이터 타입이 다를 수 있으므로, 적절한 변환이 필요합니다.
  - ex. 예를 들어, 날짜 형식, 숫자 형식, 문자열 길이 등을 일치시켜야 합니다.
- **문자 인코딩:** 서로 다른 DB 시스템은 다른 문자 인코딩을 사용할 수 있으므로, 데이터 변환 시 올바른 인코딩을 적용해야 합니다.

### 데이터 정합성 및 품질 관리

- **중복 제거:** 데이터 이관 과정에서 중복 레코드가 발생하지 않도록 주의해야 합니다.
- **데이터 클렌징:** 소스 데이터의 품질을 개선하기 위해 불필요한 데이터를 필터링하고 오류 데이터를 정제해야 합니다.
- **NULL 값 처리:** NULL 값의 처리 방식이 두 DB 시스템에서 다를 수 있으므로, 적절한 변환 규칙을 정의해야 합니다.

### 키 및 제약 조건 관리

- **기본 키 및 외래 키:** 소스 DB와 대상 DB의 키 구조가 다를 수 있으므로, 적절한 키 매핑이 필요합니다.
- **제약 조건:** 대상 DB의 제약 조건(`ex. NOT NULL, UNIQUE`)을 고려하여 데이터를 변환해야 합니다.

### 성능 및 리소스 관리

- **배치 처리:** 대량의 데이터를 효율적으로 처리하기 위해 적절한 배치 크기를 설정해야 합니다.
- **인덱스 관리:** ETL 과정 중 대상 테이블의 인덱스를 비활성화하고, 데이터 로드 후 다시 활성화하여 성능을 개선할 수 있습니다.

### 오류 처리 및 복구

- **오류 로깅:** ETL 과정에서 발생하는 오류를 상세히 기록하고 모니터링해야 합니다.
- **롤백 메커니즘:** 문제 발생 시 이전 상태로 복원할 수 있는 롤백 절차를 마련해야 합니다.

### 데이터 변환 규칙 정의

- **비즈니스 로직 적용:** 필요한 경우 데이터 변환 과정에서 비즈니스 규칙을 적용해야 합니다.
- **데이터 매핑:** 소스 DB와 대상 DB 간의 정확한 필드 매핑을 정의해야 합니다.

### 보안 및 규정 준수

- **데이터 마스킹:** 민감한 정보에 대해 적절한 마스킹 처리를 수행해야 합니다.
- **감사 추적:** 데이터 변환 및 이동 과정을 추적할 수 있는 로그를 유지해야 합니다.

이러한 주의사항을 고려하여 ETL 프로세스를 설계하고 구현함으로써, 데이터의 정확성과 일관성을 유지하면서 효율적인 데이터 이관을 수행할 수 있습니다.
