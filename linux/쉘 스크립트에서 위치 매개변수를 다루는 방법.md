# 쉘 스크립트에서 위치 매개변수를 다루는 방법

리눅스 환경에서 쉘 스크립트를 작성할 때 종종 사용자 입력을 처리해야 합니다.
이를 위해 사용자가 스크립트를 실행할 때 전달하는 매개변수 중 가장 일반적으로 사용되는 것이 위치 매개변수(`Positional Parameters`) 입니다.

## 위치 매개변수 (Positional Parameters)

위치 매개변수는 쉘 스크립트에 전달된 명령줄 인수를 처리하는 데 사용됩니다.
위치에 따라 `$1`, `$2`, `$3` 등으로 참조되며, 스크립트 실행 시 전달되는 값을 기반으로 동작을 정의할 수 있습니다.

#### 주요 위치 매개변수

- `$0`: 스크립트 파일의 이름
- `$1, $2, $3, ...`: 첫 번째, 두 번째, 세 번째 인수
- `$#`: 스크립트에 전달된 인수의 개수
- `$@`: 모든 인수를 개별적인 문자열로 출력
- `$*`: 모든 인수를 하나의 문자열로 출력
- `"$@"`: 인자를 개별적으로 처리할 때, 공백을 유지하면서 안전하게 사용
- `$?`: 마지막 명령어의 종료 상태를 반환 (성공 시 0, 실패 시 1 이상의 값)
- `$$`: 현재 스크립트의 프로세스 ID (PID)
- `$!`: 백그라운드로 실행 중인 마지막 프로세스의 PID

### 활용 예시

#### 1. 위치 매개변수 기본 예시

```bash
#!/bin/bash

echo "스크립트 이름: $0"
echo "첫 번째 인수: $1"
echo "두 번째 인수: $2"
echo "인수 개수: $#"
echo "모든 인수 (개별): $@"
echo "모든 인수 (하나의 문자열): $*"
```

```bash
# 스크립트 실행
./script.sh apple banana
```

```text
출력 결과:
스크립트 이름: ./script.sh
첫 번째 인수: apple
두 번째 인수: banana
인수 개수: 2
모든 인수 (개별): apple banana
모든 인수 (하나의 문자열): apple banana
```

#### 2. 공백이 있는 인수 처리

쉘 스크립트에서 공백이 포함된 문자열을 처리할 때는 인수를 따옴표로 감싸야 합니다.

- ex. “Hello World”라는 문자열을 하나의 인수로 처리하려면 다음과 같이 따옴표를 사용합니다.

```bash
#!/bin/bash
echo "첫 번째 인수: $1"
```

```bash
# 스크립트 실행
./script.sh "Hello World"
```

```text
출력 결과:
첫 번째 인수: Hello World
```

#### 3. 위치 매개변수를 활용한 조건 처리

쉘 스크립트에서는 입력된 인수의 개수에 따라 조건을 달리 처리할 수 있습니다.

```bash
#!/bin/bash

if [ $# -eq 0 ]; then
  echo "사용법: $0 <이름>"
  exit 1
fi

echo "안녕하세요, $1님!"
```

- 이 스크립트는 인수를 전달하지 않으면 사용법을 출력하고 종료합니다.
- 인수가 제공되면 인사말을 출력합니다.

#### 4. 여러 인수 순회

`$@`를 사용하여 전달된 모든 인수를 순회할 수 있습니다.
이를 통해 스크립트가 여러 인수를 동적으로 처리할 수 있습니다.

```bash
#!/bin/bash
echo "총 $# 개의 인자가 전달되었습니다."
echo "인자들: $*"

for arg in "$@"
do
  echo "처리 중: $arg"
done
```

```bash
# 스크립트 실행
./script.sh arg1 arg2 arg3
```

```text
출력 결과:
총 3 개의 인자가 전달되었습니다.
인자들: arg1 arg2 arg3
처리 중: arg1
처리 중: arg2
처리 중: arg3
```

#### 5. 10개 이상의 인수 다루기

`$10` 이상의 인수에 접근하려면, 인덱스를 중괄호로 감싸서 `${10}, ${11}`처럼 사용해야 합니다.

```bash
#!/bin/bash

echo "열 번째 인수: ${10}"
```

```bash
# 스크립트 실행
./script.sh arg1 arg2 arg3 arg4 arg5 arg6 arg7 arg8 arg9 arg10 arg11
```

```text
출력 결과:
열 번째 인수: arg10
```

#### 6. `$*` vs `$@`

- `$*`: 모든 인수를 하나의 문자열로 취급. 공백이 포함된 인수는 구분되지 않음.
- `$@`: 각 인수를 개별적으로 취급. 공백이 포함된 인수도 각각의 문자열로 유지됨.

```bash
#!/bin/bash

echo "\$* 사용: $*"
echo "\$@ 사용: $@"
```

```bash
# 스크립트 실행
./script.sh "arg 1" "arg 2" "arg 3"
```

```text
출력 결과:
$* 사용: arg 1 arg 2 arg 3
$@ 사용: arg 1 arg 2 arg 3
```

위치 매개변수는 쉘 스크립트에서 사용자 입력을 처리하는 매우 유용한 기능입니다.
이를 통해 다양한 인수를 다루고, 조건에 따라 스크립트 동작을 유연하게 제어할 수 있습니다.
