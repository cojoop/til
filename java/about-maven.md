# Maven 알아보기

`Maven`은 `Java` 프로젝트를 빌드, 관리, 배포하기 위한 강력한 도구입니다. 프로젝트의 라이프사이클을 관리하고 종속성을 처리하며, 프로젝트 구조를 표준화하는 데 큰 역할을 합니다. `Maven`의 주요 목표는 프로젝트 빌드를 자동화하고, 개발자들이 보다 쉽게 프로젝트를 설정하고 유지 관리할 수 있도록 돕는 것입니다.

- 빌드(`Build`): 소스코드 파일을 컴퓨터에서 실행할 수 있는 독립 소프트웨어 가공물로 변환하는 과정 또는 그에 대한 결과물.
- 빌드 도구(`Build tool`): 프로젝트 생성, 테스트 빌드, 배포 등의 작업을 위한 전용 프로그램

## Maven LifeCycle

메이븐은 프레임워크이기 때문에 동작 방식이 정해져있고 미리 정의하고 있는 빌드 순서가 있는데, 이를 라이프사이클(`Lifecycle`)이라 합니다.

`Maven` 라이프사이클은 크게 기본(`Default`), 클린(`Clean`), 사이트(`Site`) 라이프사이클로 나뉩니다. 각 라이프사이클은 여러 단계로 구성되며, 각 단계는 특정 작업을 수행합니다.

### 기본 라이프사이클 (Default Lifecycle)

기본 라이프사이클은 프로젝트 빌드와 관련된 대부분의 작업을 처리합니다.

#### 주요 단계

1. **validate:** 프로젝트가 올바르게 구성되었는지 확인합니다.
2. **compile:** 소스 코드를 컴파일합니다.
3. **test:** 컴파일된 코드를 테스트합니다. (단위 테스트 실행)
4. **package:** 컴파일된 코드를 `JAR` 또는 `WAR` 파일 등으로 패키징합니다.
5. **verify:** 통합 테스트를 실행하여 패키지가 유효한지 확인합니다.
6. **install:** 패키지를 로컬 `Maven` 저장소에 설치합니다.
7. **deploy:** 패키지를 원격 저장소에 배포합니다.

#### 기본 라이프사이클의 단계별 설명

- **validate:** 프로젝트의 `pom.xml` 파일과 필요한 디렉토리 구조가 올바른지 확인합니다.
- **compile:** `src/main/java`에 있는 소스 파일을 컴파일하여 `target/classes` 디렉토리에 출력합니다.
- **test:** `src/test/java`에 있는 테스트 코드를 실행하여 컴파일된 코드의 기능을 검증합니다. 이 단계에서 실패하면 빌드가 중단됩니다.
- **package:** 컴파일된 코드를 패키징하여 `JAR` 파일이나 `WAR` 파일 등으로 생성합니다.
- **verify:** 통합 테스트를 실행하여 패키지가 특정 기준을 충족하는지 확인합니다.
- **install:** 패키지를 로컬 Maven 저장소(`~/.m2/repository`)에 설치합니다. 이를 통해 다른 로컬 프로젝트에서 이 패키지를 의존성으로 사용할 수 있습니다.
- **deploy:** 패키지를 원격 저장소(예: `Nexus`, `Artifactory`)에 배포하여 다른 팀원이나 프로젝트에서 사용할 수 있도록 합니다.

### 클린 라이프사이클 (Clean Lifecycle)

클린 라이프사이클은 빌드 환경을 정리하는 데 사용됩니다.

#### 주요 단계

1. **pre-clean:** 클린 작업을 준비합니다.
2. **clean:** 이전 빌드의 산출물을 제거합니다.
3. **post-clean:** 클린 작업 후에 필요한 정리 작업을 수행합니다.

#### 클린 라이프사이클의 단계별 설명

- **pre-clean:** 클린 작업 전에 필요한 준비 작업을 수행합니다.
- **clean:** target 디렉토리 등 이전 빌드 산출물을 삭제합니다.
- **post-clean:** 클린 작업 후에 추가로 필요한 정리 작업을 수행합니다.

### 사이트 라이프사이클 (Site Lifecycle)

사이트 라이프사이클은 프로젝트 문서를 생성하고 배포하는 데 사용됩니다.

#### 주요 단계

1. **pre-site:** 사이트 생성 작업을 준비합니다.
2. **site:** 프로젝트 문서를 생성합니다.
3. **post-site:** 사이트 생성 후에 필요한 작업을 수행합니다.
4. **site-deploy:** 생성된 사이트 문서를 서버에 배포합니다.

#### 사이트 라이프사이클의 단계별 설명

- **pre-site:** 사이트 생성 전에 필요한 준비 작업을 수행합니다.
- **site:** Maven 사이트 플러그인을 사용하여 프로젝트 문서를 생성합니다.
- **post-site:** 사이트 생성 후에 필요한 추가 작업을 수행합니다.
- **site-deploy:** 생성된 사이트 문서를 웹 서버 등에 배포합니다.

## Maven 사용 이유

1. 종속성 관리: `Maven`은 프로젝트에서 사용하는 라이브러리 및 프레임워크의 종속성을 자동으로 관리합니다.
중앙 저장소(`Central Repository`)에서 필요한 라이브러리를 다운로드하고, 이를 프로젝트에 추가해줍니다.
이를 통해 개발자는 라이브러리를 수동으로 다운로드하고 설정하는 번거로움에서 벗어날 수 있습니다.

2. 표준화된 프로젝트 구조: `Maven`은 프로젝트 구조를 표준화하여, 팀원 간의 협업을 용이하게 합니다.
모든 `Maven` 프로젝트는 동일한 디렉토리 레이아웃을 가지므로, 새로운 프로젝트를 접할 때 구조를 이해하는 데 드는 시간을 절약할 수 있습니다.

3. 라이프사이클 관리: `Maven`은 프로젝트의 빌드, 테스트, 패키징, 배포 등의 작업을 자동으로 처리하는 일련의 라이프사이클 단계를 제공합니다.
이를 통해 반복적인 작업을 자동화하고, 실수를 줄일 수 있습니다.

4. 플러그인 시스템: `Maven`은 다양한 플러그인을 통해 기능을 확장할 수 있습니다.
이러한 플러그인은 코드 품질 검사, 문서 생성, 배포 자동화 등 다양한 작업을 지원합니다.

##
