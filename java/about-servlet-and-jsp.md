# Servlet과 JSP(JavaServer Pages)

서블릿(`Servlet`)과 JSP(`JavaServer Pages`)는 Java EE (`Enterprise Edition`) 플랫폼의 일부로서 웹 애플리케이션 개발에 자주 사용되는 기술입니다. 이 두 기술은 서버 측에서 동적으로 웹 페이지를 생성하고, 클라이언트의 요청을 처리하며, 데이터베이스와 상호작용할 수 있는 강력한 도구입니다.

## Servlet이란

`Servlet`은 자바 언어로 작성된 서버 측 프로그램으로, 웹 서버에서 실행되며 클라이언트(브라우저) 요청을 처리하고 동적으로 콘텐츠를 생성합니다. 주로 `HTTP` 요청과 응답을 처리하며, 클라이언트의 요청을 기반으로 데이터를 처리하거나 HTML 페이지를 생성하여 응답합니다.

#### 주요 특징

1. **플랫폼 독립성:** 자바 기반이므로 다양한 운영체제에서 동일하게 동작합니다.

2. **확장성:** 멀티스레드 환경에서 효율적으로 동작하며, 여러 클라이언트의 요청을 동시에 처리할 수 있습니다.

3. **보안:** 자바의 보안 모델을 활용하여 안전한 웹 애플리케이션 개발이 가능합니다.

## JSP(JavaServer Pages)란?

`JSP`는 `HTML` 페이지에 자바 코드를 삽입하여 동적으로 웹 페이지를 생성할 수 있게 해주는 기술입니다. `JSP`는 `Servlet`과 달리 `HTML` 문서 내에 자바 코드를 직접 삽입할 수 있어, 웹 페이지를 작성하는 데 더욱 직관적입니다. `JSP` 파일은 `.jsp` 확장자를 가지며, 서버에서 컴파일되어 서블릿으로 변환됩니다.

#### 주요 특징

1. **표현력:** `HTML` 내에 자바 코드를 쉽게 삽입할 수 있어 동적인 콘텐츠 생성을 쉽게 할 수 있습니다.

2. **재사용성:** 태그 라이브러리와 자바 빈을 이용하여 코드를 재사용할 수 있습니다.

3. **유지 보수 용이성:** `HTML`과 자바 코드를 분리하여 웹 페이지의 유지 보수가 쉽습니다.

#### Servlet과 JSP의 차이점 및 활용

##### 차이점

- **Servlet:** 자바 코드로 작성되며, `HTML` 코드를 자바의 `PrintWriter`를 통해 생성합니다. 코드와 데이터의 분리가 어렵습니다.

- **JSP:** `HTML` 코드에 자바 코드를 삽입하여 동적인 콘텐츠를 쉽게 생성할 수 있습니다. 코드와 데이터의 분리가 용이합니다.

##### 활용

- **Servlet:** 복잡한 비즈니스 로직을 처리하거나, 데이터베이스와의 상호작용, 사용자 인증 등 백엔드 작업에 주로 사용됩니다.

- **JSP:** 사용자 인터페이스를 구성하거나, 간단한 동적인 웹 페이지를 생성하는 데 주로 사용됩니다.

#### JSP + Servlet 웹 애플리케이션의 기본 프로젝트 구조

```bash
JSP_Servlet_Project/
│
├── WEB-INF/
│   ├── web.xml
│   ├── classes/
│   │   └── com/
│   │       └── example/
│   │           └── servlet/
│   │               └── (서블릿 클래스 파일들)
│   ├── lib/
│   │   └── (라이브러리 파일들 .jar)
│   └── views/
│       └── (JSP 파일들)
│
├── META-INF/
│   └── context.xml
│
├── src/
│   └── com/
│       └── example/
│           ├── model/
│           │   └── (비즈니스 로직 클래스 파일들)
│           └── servlet/
│               └── (서블릿 Java 소스 파일들)
│
├── resources/
│   ├── css/
│   │   └── (CSS 파일들)
│   ├── js/
│   │   └── (JavaScript 파일들)
│   └── images/
│       └── (이미지 파일들)
│
├── build/
│   └── (빌드된 파일들)
│
└── index.jsp
```

##### 디렉토리 및 파일 설명

1. `WEB-INF/`
`WEB-INF` 디렉토리는 웹 애플리케이션의 중요한 구성 요소들이 포함된 디렉토리로, 외부에서 직접 접근할 수 없습니다. 이 디렉토리는 웹 서버에 의해 보호되며, 보안이 중요한 파일들을 포함합니다.

- `web.xml`
  - 역할: 웹 애플리케이션의 배치 서술자 파일입니다.
  - 기능: 애플리케이션 설정, 서블릿 매핑, 필터, 리스너 등을 정의합니다. 특히, 서블릿의 `URL` 매핑을 설정하여 클라이언트 요청을 서블릿으로 라우팅합니다.

- `classes/`:
  - 역할: 컴파일된 `Java` 클래스 파일들이 저장되는 디렉토리입니다.
  - 기능: 서블릿, 자바빈즈, 기타 서버 측 로직을 포함하는 클래스 파일들이 위치합니다.
  - 구조: com.example.servlet와 같이 패키지 구조에 따라 서블릿 클래스 파일들이 저장됩니다.

- `lib/`
  - 역할: 애플리케이션에서 사용되는 외부 라이브러리의 `JAR` 파일들을 저장합니다.
  - 기능: 프로젝트에서 필요로 하는 외부 라이브러리들을 이 디렉토리에 넣어 참조하게 합니다. 예를 들어, 데이터베이스 연결 라이브러리, 로깅 라이브러리 등을 포함합니다.

- `views/`
  - 역할: JSP 파일들을 보관하는 디렉토리입니다.
  - 기능: 각종 뷰 로직을 담당하는 JSP 파일들이 위치합니다. 이는 클라이언트에게 보이는 UI를 정의합니다.

2. `META-INF/`
`META-INF` 디렉토리는 메타데이터를 포함하고 있습니다.

- `context.xml`
  - 역할: 애플리케이션의 전역 설정 파일입니다.
  - 기능: 데이터베이스 연결 정보 등 특정 컨텍스트 설정을 정의합니다. 이 파일은 웹 애플리케이션의 특정 환경 설정을 설정하는 데 사용됩니다.

3. `src/`
`src` 디렉토리는 `Java` 소스 코드 파일들이 저장되는 곳입니다.

- Java 소스 파일들:
  - 역할: 애플리케이션의 핵심 로직을 담고 있는 Java 소스 파일들이 위치합니다.
  - 기능: 비즈니스 로직, 서블릿, 자바빈즈 등을 작성합니다.
  - 구조:
    - `model/`
      - 역할: 비즈니스 로직 및 데이터 모델을 포함하는 클래스 파일들이 위치합니다.
      - 기능: 데이터베이스와의 상호작용을 처리하거나 데이터 처리를 담당합니다.
    - `servlet/`
      - 역할: 서블릿 Java 소스 파일들이 위치합니다.
      - 기능: 클라이언트의 요청을 처리하고, 비즈니스 로직을 실행한 후 결과를 `JSP`에 전달합니다.

4. `resources/`
`resources` 디렉토리는 정적 리소스들이 저장되는 곳입니다.

- 정적 리소스:
  - 역할: 이미지, `CSS`, `JavaScript` 파일 등 정적인 리소스들을 포함합니다.
  - 기능: 클라이언트 측에서 사용되는 스타일시트, 스크립트 파일, 이미지 파일 등을 포함하여 `UI`를 구성합니다.
  - 구조:
    - `css/`
      - 역할: 스타일시트(`CSS`) 파일들을 저장합니다.
      - 기능: 애플리케이션의 레이아웃과 스타일을 정의합니다.
    - `js/`
      - 역할: `JavaScript` 파일들을 저장합니다.
      - 기능: 클라이언트 측의 동적 동작을 처리합니다.
    - `images/`
      - 역할: 이미지 파일들을 저장합니다.
      - 기능: 애플리케이션에 필요한 이미지 파일들을 포함합니다.

5. `build/`
`build` 디렉토리는 빌드된 파일들이 저장되는 곳입니다.

- 빌드된 파일들:
  - 역할: 컴파일된 결과물, 배포 가능한 `WAR` 파일 등을 포함합니다.
  - 기능: 프로젝트를 빌드하면 생성되는 출력물들이 저장됩니다.

6. `index.jsp`
`index.jsp`는 웹 애플리케이션의 진입점이 되는 `JSP` 파일입니다.

- `index.jsp`:
  - 역할: 애플리케이션의 시작 페이지 역할을 합니다.
  - 기능: 클라이언트가 처음 접근하는 페이지로, 주로 초기 화면을 구성합니다. 여기서 사용자가 특정 `Servlet`으로 요청을 보낼 수 있습니다.
