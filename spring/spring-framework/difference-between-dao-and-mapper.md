# DAO와 Mapper의 차이점

Mapper와 DAO(`Data Access Object`)는 데이터베이스와 애플리케이션 간의 상호작용을 처리하는 방식에서 차이가 있으며, 각기 다른 시나리오에서 적합하게 사용됩니다.

## DAO (Data Access Object)

DAO는 데이터베이스 작업을 추상화하여 비즈니스 로직과 데이터 액세스 로직을 분리하는 패턴입니다. 이 패턴을 사용하면 애플리케이션에서 SQL 쿼리를 직접 작성하고 데이터베이스와 상호작용하는 부분을 캡슐화합니다.

### 특징

- **직접적인 SQL 사용:** 개발자가 명시적으로 SQL을 작성하고 실행합니다.
- **비즈니스 로직과 데이터베이스 로직 분리:** 서비스 계층에서는 데이터 액세스의 세부 사항을 몰라도 됩니다. 오직 DAO 메서드를 호출하기만 하면 됩니다.
- **유연성:** 커스텀 쿼리나 복잡한 쿼리를 작성하는 데 유리합니다.
- **테스트 용이성:** 데이터베이스 의존성을 분리해 테스트하기 용이합니다.

### 언제 사용하는지

- 데이터베이스와의 상호작용이 복잡한 경우 (`ex. 복잡한 SQL 쿼리, 트랜잭션 관리`).
- 여러 데이터베이스 시스템을 다루거나, 비즈니스 로직에서 데이터 액세스 계층을 완전히 분리하려고 할 때.
- 명확한 데이터 액세스 책임을 분리하고 싶을 때.

#### 예제 코드

```java
public class UserDAO {
    public User getUserById(int id) {
        String sql = "SELECT * FROM users WHERE id = ?";
        // SQL 실행 및 결과 매핑
    }
}
```

## Mapper (MyBatis Mapper 등)

Mapper는 MyBatis 같은 ORM(`Object-Relational Mapping`) 프레임워크에서 제공하는 인터페이스 기반의 매핑 방식입니다. SQL을 XML 또는 애노테이션으로 정의하고, 이를 Java 메서드로 매핑하여 간단하게 사용할 수 있습니다.

### 특징

- **자동 매핑:** SQL 쿼리와 Java 객체 간의 매핑을 자동으로 처리해줍니다.
- **인터페이스 기반:** 명시적인 DAO 클래스 없이 Mapper 인터페이스만으로 데이터베이스 작업을 처리합니다.
- **간결한 코드:** SQL을 XML이나 애노테이션으로 정의하고, Java 코드에서는 간단한 메서드 호출만으로 데이터베이스 작업을 수행합니다.
- **간편한 CRUD 작업:** 기본적인 CRUD(`Create, Read, Update, Delete`) 작업에 적합합니다.

### 언제 사용하는지

- 간단한 CRUD 작업일 경우 MyBatis의 Mapper를 통해 쉽게 처리할 수 있습니다.
- SQL과 객체 매핑을 자동화하려는 경우.
- DAO 클래스나 메서드를 따로 작성할 필요 없이 빠르게 데이터베이스 작업을 처리하고 싶을 때.

#### 예제 코드

```java
public interface UserMapper {
    @Select("SELECT * FROM users WHERE id = #{id}")
    User getUserById(int id);
}
```

### DAO와 Mapper의 차이점

- DAO는 명시적으로 SQL을 작성하고 이를 직접 실행하는 방식을 사용하며, Mapper는 MyBatis 같은 ORM에서 SQL을 정의하고 자동으로 매핑해주는 방식입니다.
- DAO는 복잡한 비즈니스 로직과 SQL 쿼리 작성이 필요한 경우 적합하고, Mapper는 간단한 데이터베이스 작업이나 자동 매핑이 필요할 때 유용합니다.

### 둘 중 언제 무엇을 사용하는지

- 복잡한 쿼리 및 트랜잭션 관리가 필요한 경우, 개발자가 세밀하게 제어할 수 있는 DAO 패턴을 선호합니다.
- 간단한 CRUD 작업과 빠른 개발이 필요한 경우 MyBatis Mapper가 더 유리할 수 있습니다. Mapper는 코드가 간결하고, 자동화된 매핑 덕분에 유지보수도 쉽습니다.

둘 다 적절한 상황에서 사용될 수 있으며, 경우에 따라 DAO와 Mapper를 함께 사용하기도 합니다.
