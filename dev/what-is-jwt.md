# JWT(JSON Web Token)란

`JWT`는 `Json Web Token`의 약자로 일반적으로 클라이언트와 서버 사이에서 통신할 때 권한을 위해 사용하는 토큰입니다. 인증과 정보 교환을 위한 인터넷 표준으로, 웹 애플리케이션 간에 정보를 안전하게 전송하는 데 사용됩니다.

## 구성 요소

JWT는 세 부분으로 구성됩니다: `Header`, `Payload`, `Signature`.

1. `Header`(헤더): `JWT`의 유형 및 해시 알고리즘과 같은 메타데이터를 포함합니다.

    ```json
    {
            "alg": "HS256",
            "typ": "JWT"
        }
    ```

2. `Payload`(페이로드): 실제로 전송되는 정보가 담겨있습니다. 이는 클레임(`claim`)으로 불리는 `키-값` 쌍의 집합으로 이루어져 있습니다.

    ```json
        {
            "sub": "1234567890",
            "name": "John Doe",
            "admin": true
        }
    ```

    - 클레임은 등록된 클레임, 공개 클레임, 개인 클레임으로 나뉩니다.
    - 등록된 클레임은 표준화된 클레임이고, 공개 클레임은 충돌이 방지된 이름이며, 개인 클레임은 클라이언트와 서버간 협의된 클레임입니다.

3. `Signature`(서명): `Header`와 `Payload`를 인코딩한 후, 시크릿 키를 사용하여 서명됩니다. 이 서명을 통해 토큰이 변조되었는지 여부를 확인할 수 있습니다.

## 작동 방식

1. 사용자가 로그인합니다. 서버는 사용자 정보를 확인하고, `JWT`를 생성하여 사용자에게 반환합니다.
2. 사용자는 `JWT`를 받은 후, 이를 저장합니다. 일반적으로 브라우저의 로컬 스토리지나 쿠키에 저장됩니다.
3. 사용자가 보호된 리소스에 접근하려고 할 때, `JWT`를 함께 보냅니다. 보통 `HTTP` 헤더의 `Authorization` 필드에 넣어서 전송합니다.
4. 서버는 `JWT`의 유효성을 검증합니다. 토큰의 시그니처를 확인하고, 클레임의 내용을 확인하여 사용자의 인증 여부를 결정합니다.
5. 사용자가 요청한 작업을 수행합니다.

## 장점

- **간결성:** `JSON` 형식을 사용하기 때문에 가독성이 좋습니다.
- **확장성:** 클레임을 추가하여 원하는 만큼의 정보를 포함할 수 있습니다.
- **분산 시스템에서 유용:** 서버가 상태를 저장하지 않아도 되므로, 여러 서버 간의 확장성이 좋습니다.

> `JWT`의 주의점
> `JWT`는 안전한 키 관리가 필요합니다. 시크릿 키가 노출되면 토큰이 위조될 수 있습니다.
> `JWT`의 크기가 커지면 네트워크 대역폭이 증가할 수 있습니다. 필요한 클레임만 포함하는 것이 중요합니다.
